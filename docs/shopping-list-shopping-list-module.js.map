{"version":3,"sources":["./src/app/shopping-list/shopping-list.module.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.html","./src/app/shopping-list/shopping-list.component.html","./src/app/shopping-list/shopping-list.component.ts"],"names":[],"mappings":"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","file":"shopping-list-shopping-list-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ShoppingEditComponent } from './shopping-edit/shopping-edit.component';\r\nimport { ShoppingListComponent } from './shopping-list.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [ShoppingListComponent, ShoppingEditComponent],\r\n  exports: [ShoppingListComponent, ShoppingEditComponent],\r\n  imports: [\r\n    SharedModule,\r\n    FormsModule,\r\n    RouterModule.forChild([\r\n      { path: '', component: ShoppingListComponent },\r\n    ]),\r\n  ],\r\n})\r\nexport class ShoppingListModule {}\r\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { Ingredient } from 'src/app/shared/ingredient.model';\nimport { ShoppingListService } from '../shopping-list.service';\n\n@Component({\n  selector: 'app-shopping-edit',\n  templateUrl: './shopping-edit.component.html',\n  styleUrls: ['./shopping-edit.component.css'],\n})\nexport class ShoppingEditComponent implements OnInit, OnDestroy {\n  @ViewChild('f') slform!: NgForm;\n  constructor(private slService: ShoppingListService) {}\n  subscription!: Subscription;\n  editMode = false;\n  editedItemIndex!: number;\n  editedItem!: Ingredient;\n\n  ngOnInit() {\n    this.subscription = this.slService.startedEditing.subscribe(\n      (index: number) => {\n        this.editedItemIndex = index;\n        this.editMode = true;\n        this.editedItem = this.slService.getIngredient(index);\n        this.slform.setValue({\n          name: this.editedItem.name,\n          amount: this.editedItem.amount,\n        });\n      }\n    );\n  }\n\n  onSubmit(form: NgForm) {\n    const value = form.value;\n    const newIngredient = new Ingredient(value.name, value.amount);\n    if (this.editMode) {\n      this.slService.updateIngredient(this.editedItemIndex, newIngredient);\n    } else {\n      this.slService.addIngredient(newIngredient);\n    }\n    this.editMode = false;\n    form.reset();\n  }\n  onClear(){\n    this.slform.reset();\n    this.editMode = false;\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n  onDelete(){\n    this.slService.deleteIngredient(this.editedItemIndex);\n    this.onClear();\n\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-xs-12\">\n    <form (ngSubmit)=\"onSubmit(f)\" #f=\"ngForm\">\n      <div class=\"row\">\n        <div class=\"col-sm-5 form-group\">\n          <label for=\"name\">Name</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            class=\"form-control\"\n            name=\"name\"\n            ngModel\n            required\n          />\n        </div>\n        <div class=\"col-sm-2 form-group\">\n          <label for=\"amount\">Amount</label>\n          <input\n            type=\"number\"\n            id=\"amount\"\n            class=\"form-control\"\n            name=\"amount\"\n            ngModel\n            required\n            pattern=\"^[1-9]+[0-9]*$\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <button class=\"btn btn-success\" type=\"submit\" [disabled]=\"!f.valid\">{{editMode ? 'update' : 'Add'}}</button>\n          <button class=\"btn btn-danger\" type=\"button\" *ngIf=\"editMode\" (click)=\"onDelete()\">Delete</button>\n          <button class=\"btn btn-primary\" type=\"button\" (click)=\"onClear();\">Clear</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n","<div class=\"row\">\n  <div class=\"col-xs-10\">\n    <app-shopping-edit></app-shopping-edit>\n    <hr />\n    <ul class=\"list-group\">\n      <a\n        class=\"list-group-item\"\n        style=\"cursor: pointer\"\n        *ngFor=\"let ingredient of ingredients; let i=index\"\n        (click)=\"onEditItem(i)\"\n      >\n        {{ ingredient.name }} ({{ ingredient.amount }})\n      </a>\n    </ul>\n  </div>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Ingredient } from '../shared/ingredient.model';\nimport { ShoppingListService } from './shopping-list.service';\n@Component({\n  selector: 'app-shopping-list',\n  templateUrl: './shopping-list.component.html',\n  styleUrls: ['./shopping-list.component.css'],\n})\nexport class ShoppingListComponent implements OnInit, OnDestroy {\n  ingredients!: Ingredient[];\n  private igChangeSub!: Subscription;\n\n  constructor(private slService: ShoppingListService) {}\n\n  ngOnInit() {\n    this.ingredients = this.slService.getIngredients();\n    this.igChangeSub = this.slService.ingredientsChanged.subscribe(\n      (ingredients: Ingredient[]) => {\n        this.ingredients = ingredients;\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.igChangeSub.unsubscribe();\n  }\n   onEditItem(index:number){\n     this.slService.startedEditing.next(index);\n    \n\n  }\n}\n"],"sourceRoot":"webpack:///"}